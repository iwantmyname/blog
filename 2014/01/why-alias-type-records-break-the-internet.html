<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Why ALIAS-type DNS Records Break The Internet</title>

	<link rel="canonical" href="https://iwantmyname.com/blog/2014/01/why-alias-type-records-break-the-internet.html">
	<!-- favicons for apple devices -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://iwantmyname.com/blog/assets/images/apple-touch-icon-xlarge.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://iwantmyname.com/blog/assets/images/apple-touch-icon-large.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://iwantmyname.com/blog/assets/images/apple-touch-icon-medium.png">
<link rel="apple-touch-icon-precomposed" href="https://iwantmyname.com/blog/assets/images/apple-touch-icon-small.png"/>
<!-- favicons for IE -->
<link rel="shortcut" href="https://iwantmyname.com/blog/favicon.ico">
<!-- everyone else -->
<link rel="icon" href="https://iwantmyname.com/blog/assets/images/favicon-64x64.png">

	
	<meta property="og:type" content="article">
	<meta property="og:title" content="Why ALIAS-type DNS Records Break The Internet">
	<meta property="og:url" content="https://iwantmyname.com/blog/2014/01/why-alias-type-records-break-the-internet.html">
	



	<link rel="alternate" title="Latest blog posts" type="application/atom+xml" href="https://iwantmyname.com/blog/atom.xml">

	<link rel="stylesheet" href="https://iwantmyname.com/blog/assets/css/libs.min.css?i4ufn272" media="all">
	<link rel="stylesheet" href="https://iwantmyname.com/blog/assets/css/theme.min.css?i4ufn272" media="all">

	<!--[if lt IE 9]>
		<script src="https://iwantmyname.com/blog/assets/js/ie.min.js?i4ufn272"></script>
	<![endif]-->

	<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5387743-5', 'iwantmyname.com');
  ga('send', 'pageview');

  // track uncaught errors
  window.onerror = function (message, file, line) {
    if (line != null) file += ' (' + line + ')'; // add line number to file URL
    ga('send', 'event', 'window.onerror', message, file, null, { nonInteraction: true });
  };
</script>

</head>
<body>

	<div class="frame">
	<div class="frame-row frame-row-expand">
		<header>
	<div class="container iwmn-container">
		<div class="row">
			<div class="col-xs-9 col-sm-6">
				<a href="https://iwantmyname.com/blog/" class="brand">
					<img src="https://iwantmyname.com/blog/assets/images/logo.png" alt="iwantmyname logo">
					<span class="hidden-xs">Domain</span> blog
				</a>
			</div>
			<div class="col-xs-3 col-sm-6">
				<ul class="nav iwmn-nav pull-right">
					<li>
						<a href="https://iwantmyname.com/">
							<span class="hidden-xs">&larr; Back to iwantmyname</span>
							<span class="glyphicon glyphicon-home visible-xs"></span>
						</a>
					</li>
				</ul>
			</div>
		</div>
	</div>
</header>


		




<div class="container iwmn-container iwmn-article">
	<div class="row">
		<div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
			<article>
				
					<h1>Why ALIAS-type DNS Records Break The Internet</h1>
				
				
				

				<p>Today, <a href="https://github.com/blog/1715-faster-more-awesome-github-pages">GitHub announced faster, more awesome GitHub Pages</a> recommending a new DNS setup for custom domains. In this article, I&#39;ll explain the implications if you consider setting up your naked domain with a so-called ALIAS recordâ€”more about this later.</p>

<p>As you may know DNS is, by definition, a heavily cached protocol. This means that if you change a DNS record, it will take some time until everyone who knows about the record actually sees the changes. Why did the DNS industry think this was a good idea? Because DNS is an old protocol and old servers used to have downtime and connectivity issues. If your nameserver is unreachable, the DNS caching built into the specification makes sure your domain still resolves if it has been cached in a resolver along your resolution path. That is a lot of stuff to digest, so here is how it looks:</p>

<p><img src="/blog/assets/images/content/2014-01-08-cache-name-res.png" alt="cache-name-res.png"></p>

<p>First time a DNS record is looked up at the authoritative DNS, the record gets cached in your ISPs resolver cache.</p>

<p><img src="/blog/assets/images/content/2014-01-08-auth-name-res.png" alt="auth-name-res.png"></p>

<p>Subsequent lookups for the same record will only hit the resolver cache even if the authoritative cache is offline.</p>

<p>This behaviour is important for the resilience of the DNS, and makes sure that even if things go wrong we can try to recover. The two important concepts introduced above are caching resolver versus authoritative nameserver. An authoritative nameserver always is the final authority on a DNS record and can deliver records in a predictable speed to make sure your DNS records are delivered in a fast and consistent way.</p>

<h3>Enter the ALIAS-type record</h3>

<p>In order to point an apex or root domain to a different DNS record, as you would do to map it onto an existing service like <a href="https://iwantmyname.com/services/developer/github-pages-custom-domain">GitHub Pages</a> or <a href="https://iwantmyname.com/services/developer/heroku-cloud-hosting-custom-domain">Heroku</a>, some providers offer something called an ALIAS record. These ALIAS-type records blur the lines between a caching resolver and an authoritative nameserver. An ALIAS record resolves on request the IP address of the destination record and serves it as if it would be the IP address for the apex domain requested. If the IP address for the destination changes, the IP address for the mapped domain changes automatically as well. This is really handy for service providers but makes every DNS provider concerned about service stability run in horror. Why?</p>

<p>DNS records get cached, as we have seen above. So if your DNS record is cached for IP address 1.2.3.4 and the service provider changes the record to 5.6.7.8, you will send traffic for your mapped apex domain to the wrong address until the record expires in all caching resolvers. This depends on how well your ISP sticks to the protocol and can take up to a day.</p>

<p>You also potentially break geoIP optimisations because suddenly you request the IP address from the nameserver of your DNS provider, not from your actual location. This may even get you in trouble with location restricted services (think Unblock-Us, just not in an intended way).</p>

<h3>There is no official industry standard yet</h3>

<p>CNAME-like functionality on the zone apex has no formal specification and a very small backing in the industry that can only be called experimental at this stage. While we fully support experimental new approaches for many things, DNS and our customers connectivity for their domains is not one of them. We believe that DNS needs to be rock solid and reliable no matter what.</p>

<p>The right way of doing it is to accept that a root domain mapped onto another service either needs an IP address to point to or an HTTP redirect to a &#39;www&#39; subdomain that can be pointed to your destination via CNAME. As long as there is no official DNS industry standard, embrace your &#39;www&#39; subdomain and do not use aforementioned ALIAS-type records. It breaks the internet!</p>

				
				<div class="iwmn-article-footer">
					<div class="row">
						<div class="col-sm-6">
							
								<p class="byline clearfix">
										<img class="author" src="https://iwantmyname.com/blog/assets/images/authors/lenz.jpg" alt="Lenz Gschwendtner" title="Lenz Gschwendtner">

										&mdash; Lenz Gschwendtner<br>
										<a href="https://twitter.com/norbu09">@norbu09</a>
								</p>
							
						</div>
						<div class="col-sm-6">
							<p class="text-right">
								<small class="date">January 8, 2014</small>
							</p>
						</div>
					</div>
					
				</div>
			</article>
		</div>
	</div>
</div>

<div class="page-section">
	
	<form class="domain-search text-center" method="get" action="https://iwantmyname.com/">
		<input type="hidden" name="hideUnavailable" value="false">
	

		
			<h1>Find the perfect domain name.</h1>
			<h4 class="text-muted">From here to your domain in 180 seconds.</h4>
		

		
		<div class="row">
			<div class="col-xs-12 col-sm-8 col-sm-offset-2">
				<input type="text" class="form-control input-lg" name="domain" placeholder="I want my web address to be&hellip;">
				<button type="submit" class="btn btn-lg">
					<span class="glyphicon glyphicon-search"></span>
				</button>
			</div>
		</div>
	</form>
</div>


	</div>
	
	<div class="frame-row">
		<footer>
	<div class="container iwmn-container">
		<div class="row">
			<div class="col-xs-6 col-sm-3">
				<ul class="list-unstyled">
					<li class="list-header">Quick Links</li>
					<li><a href="https://iwantmyname.com/domains/domain-name-registration-list-of-extensions">Domain pricing</a></li>
					<li><a href="https://iwantmyname.com/domains/domain-transfer">Transfer your domains to us</a></li>
					<li><a href="https://iwantmyname.com/domains/new-gtld-domain-extensions">New domain extensions</a> &amp; <a href="https://iwantmyname.com/domains/new-gtld-launch-dates">launch dates</a></li>
					<li><a href="https://iwantmyname.com/services">One-click web services</a></li>
					<li><a href="https://iwantmyname.com/domains/special-offer">January discounts</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3">
				<ul class="list-unstyled">
					<li class="list-header">Company</li>
					<li><a href="https://iwantmyname.com/about">About our team</a></li>
					<li><a href="http://blog.iwantmyname.com/">Read our domain blog</a></li>
					<li><a href="https://iwantmyname.com/monthly">Subscribe to our newsletter</a></li>
					<li><a href="https://twitter.com/iwantmyname">Twitter</a> / <a href="http://facebook.com/iwantmyname">Facebook</a> / <a href="https://google.com/+iwantmyname">Google+</a></li>
					<li><a href="https://iwantmyname.com/terms">Terms</a> &amp; <a href="https://iwantmyname.com/privacy">privacy policy</a></li>
					<li><a href="https://iwantmyname.com/jobs">We're hiring!</a></li>
				</ul>
			</div>
			
			<!-- fix variable height columns on tiny screens -->
			<div class="clearfix visible-xs"></div>

			<div class="col-xs-6 col-sm-3">
				<ul class="list-unstyled">
					<li class="list-header">Support</li>
					<li><a href="https://help.iwantmyname.com/">Help center Q&amp;A</a></li>
					<li><a href="http://status.iwantmyname.com/">Website status</a></li>
					<li><a href="https://iwantmyname.com/support">Contact a human</a></li>
				</ul>
			</div>
			<div class="col-xs-6 col-sm-3">
				<ul class="list-unstyled">
					<li class="list-header">Extras</li>
					<li><a href="https://iwantmyname.com/affiliate">Affiliate program</a></li>
					<li><a href="https://iwantmyname.com/developer/domain-dns-api">Developer API</a></li>
					<li><a href="https://iwantmyname.com/features/domains/web-hosting">Website hosting</a></li>
					<li><a href="https://iwantmyname.com/ssl">SSL certificates</a></li>
				</ul>
			</div>
		</div>

		<div class="row">
			<div class="col-xs-12">
				<p>iwantmyname &copy; 2015</p>
			</div>
		</div>
	</div>
</footer>

	</div>
</div>


	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="https://iwantmyname.com/blog/assets/js/libs.min.js?i4ufn272"></script>
</body>
</html>
